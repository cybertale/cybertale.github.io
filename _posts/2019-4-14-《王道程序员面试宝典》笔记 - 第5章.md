---
layout: post
title: 《王道程序员面试宝典》笔记 - 第5章 运算符及其优先级
author: 宋强
tags: c++ 笔试 笔记
---

### 预处理的过程
1. 处理宏定义和宏替换。
2. 处理文件包含。
3. 处理条件编译。

# static
static的主要作用在于封装。

## 在C语言程序中的作用
1. 缩小作用域，当修饰函数或者全局变量时可以使函数或全局变量仅本文件可见。
2. static用于变量时，变量将被初始化为0且生存周期被提升至与全局变量相同。

## 在类中的作用
1. 表示某个函数或者对象属于这个类类型而不是某个特定的对象，所有这个类的对象共用一个副本。
2. 类中的static变量不可以在类的声明中定义，因为类的声明不占用空间，但是static变量必须需要一次定义，因为静态成员需要空间，所以需要在类的声明外单独定义**一次**这个变量。
3. 但如果是全局常量可以写在类的声明中，即const static可以。
4. static成员函数不可以被声明为const,volatile或者virtual。

# const

## const有效域
const声明的常量只在本文件内有效，相当于天生带有static，如果需要多文件有效则须在定义前加extern修饰：
file1.cpp
```c++
extern const int a = 0;
```
file2.cpp
```c++
extern const int a;
```
如果file1中没有extern的话，file2无法通过extern应用a常量。
但是c语言中默认const是extern的，所以c语言定义处不需要用额外的extern修饰。

### c++中常量可当做#define的常量使用
所以以下代码是合法的：
```c++
const int buffer_size = 100;
int buffer[buffer_size];
```

### c++中的const可以不加修饰符，默认为int型变量
即
```c++
const buffer_size = 100;
const int buffer_size = 100; //这两条语句等价。
```

## 指针和const的组合