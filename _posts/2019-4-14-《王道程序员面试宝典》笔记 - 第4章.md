---
layout: post
title: 《王道程序员面试宝典》笔记 - 第4章 运算符及其优先级
author: 宋强
tags: c++ 笔试 笔记
---

### 短路求值 <span>在逻辑表达式中，只有左边的逻辑表达式不能够确定结果时才会执行右边的逻辑表达式，这个行为叫做逻辑表达式的短路求值。</span>

### 判断一个数是否为2的正整数次幂
```c++
if (n > 1 && ((n & (n-1)) == 0)) {
        return true;
}
```
# 异或运算符
### 异或运算符满足交换律 <span>利用这个特性和两个相同的数异或为0的特性可用于寻找成对出现的数中缺失的数。$P_{69}$</span>

### 异或运算符可用于不使用中间值而交换两个变量的值
```c++
void swap(int &a, int &b)
{
        a = a ^ b;
        b = a ^ b;
        a = a ^ b;
}
```

### 异或运算符可用于不使用运算符实现加法
```c++
int add(int a, int b)
{
        if (b == 0) {
                return a;
        }

        int sum = a ^ b;
        int carry = (a & b) << 1;
        return add(sum, carry);
}
```

### 异或运算符求两个数平均值
```c++
int mean(int a, int b)
{
        return (a & b) + ((a ^ b) >> 1);
}
```

### 使用与运算符去掉最低位的1
int reset_lowest(int a)
{
        return (a &= (a - 1));
}

### 测量1的数量
```c++
int count_ones(int a)
{
        int count = 0;
        while (a > 0) {
                a &= (a - 1);
                count++;
        }

        return count;
}
```